<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ana Ekran</title>

  <!-- Takvim için -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment-with-locales.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="main.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,400;0,700;0,900;1,400&family=Montserrat:ital,wght@0,400;0,700;0,900;1,400&display=swap" rel="stylesheet">
</head>

<body>
  <main class="app">
    <header class="header">
      <div class="header-left">
        <div class="logo-container">
          <img src="logo.png" alt="Logo" class="logo-image">
        </div>
        <h1>Ad Soyad</h1>
        <input type="text" name="daterange" />


        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const inputElement = document.querySelector('input[name="daterange"]');
        
            // güncel tarihin alınması
            const currentDate = moment();
            // haftanın başlangıç ve bitişinin hesaplanması
            const startDate = currentDate.clone().startOf('isoWeek').format("DD/MM/YYYY");
            const endDate = currentDate.clone().endOf('isoWeek').format("DD/MM/YYYY");
            inputElement.value = `${startDate} - ${endDate}`;
        
            // takvimin yeni tarih ile updatelenmesi
            $('input[name="daterange"]').daterangepicker({
              opens: 'left',
              locale: {
                format: 'DD/MM/YYYY', 
                applyLabel: 'Apply',
                cancelLabel: 'Cancel',
                daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
                monthNames: [
                  'January',
                  'February',
                  'March',
                  'April',
                  'May',
                  'June',
                  'July',
                  'August',
                  'September',
                  'October',
                  'November',
                  'December'
                ],
                firstDay: 1
              }
            }, function(start, end, label) {
              console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
            });
          });
        </script>

      </div>
      <div class="header-right">
        <button class="logout-button" onclick="logout()">Çıkış</button>
        <!-- logout butonu -->
      </div>
    </header>
    
    <!-- Todo List -->
    <section class="todo-list">
      <div class="list" id="todo-list">
        <div class="column" id="yapilacak-column" value="1">
          <div class="column-background"></div>
          <h4 class="column-heading">Yapılacak</h4>
          <div class="column-line"></div>
          <button class="add-button" onclick="showInput(this.parentNode)">+</button>
        </div>
        <div class="column" id="yapilan-column" value="2">
          <div class="column-background"></div>
          <h4 class="column-heading">Yapılan</h4>
          <div class="column-line"></div>
          <button class="add-button" onclick="showInput(this.parentNode)">+</button>
        </div>
        <div class="column" id="sorunlu-column" value="3">
          <div class="column-background"></div>
          <h4 class="column-heading">Sorunlu</h4>
          <div class="column-line"></div>
          <button class="add-button" onclick="showInput(this.parentNode)">+</button>
        </div>
      </div>
    </section>

    <!-- End of Todo List -->
  </main>
  <!-- End of App Wrapper -->

  <!-- JavaScript -->
  <script src="main.js"></script>
</body>
</html>
